vm=new Vue({
  el:"#main>div:nth-child(2)>div",
  //data:Object.assign(...)
  data:{
    product:{ price:0 },
    pics:[],
    specs:[],
    
    lid:-1,
    ulImgsStyle:{
      "margin-left":0,
      width:""
    },
    mImg:"",
    lgDivStyle:{
      "background-image":"",
      "background-position":"0 0"
    },
    moved:0,
    canLeft:false,
    canRight:false
  },
  created(){
    this.lid=location.search.slice(5);
    axios.get(
      "http://localhost:3000/details",
      {
        params:{lid:this.lid}
      }
    ).then(res=>{
      this.product=res.data.product;//从响应结果中取出data.product
      this.specs=res.data.specs;
      this.pics=res.data.pics;
      //
      this.ulImgsStyle.width=62*this.pics.length+"px";
      this.mImg=this.pics[0].md;
      this.lgDivStyle["background-iamge"]=this.pics[0].lg;
      this.canLeft=this.pics.length>4;
    })
  },
  methods:{
    moveLeft(){
      if(this.canLeft){
        this.moved+=1
        this.ulImgsStyle["margin-left"]=-62*this.moved+"px";
        this.canRight=true;
        if(this.pics.length-4==this.moved)
          this.canLeft=false;
      }
    },
    moveRight(){
      if(this.canRight){
        this.moved+=-1
        this.ulImgsStyle["margin-left"]=-62*this.moved+"px";
        this.canLeft=true;
        if(this.moved==0)
          this.canRight=false;
      }
    }
  }
})
